{% extends "layout.html" %}
{% block title %} {{event.title}} {% endblock %}
{% block content %}

<div class="container" style="margin-top:100px; color:black; background-color: white; border-radius: 5px;">
    <div class="row" style="padding-top:40px; padding-left:50px;">
        <div class="col-4">
            <h2> {{event.title}} </h2>
        </div>
        <div class="col-3" style="padding-top:10px;">
            <h3 style=> Winner : 
                {% if event.status == 0%}
                No winner
                {% endif %}
                {% if event.status == 2%}
                    {{event.winner}}
                {% endif %}
            </h3>
        </div>
        <div class="col-3" style="padding-top:10px;">
            <h3 class="text-success text-center"> Status : 
                {% if event.status == 0%}
                Open
                {% endif %}
            </h3>
        </div>
        <div class="col-2 text-center">
            {% if isadmin and event.status == 0%}
            <form method="post">
                <button class="btn btn-outline-dark" type="submit" name="editbut" style="margin-top:10px;">Edit Event</button>
            {% endif %}
            {% if isadmin and event.status == 1%}
                <button class="btn btn-outline-dark" type="submit" name="managebut" style="margin-top:10px;">Manage Results</button>
            {% endif %}
            {% if not isadmin %}
                <button class="btn btn-outline-dark" type="submit" name="joinbut" style="margin-top:10px;">Join Event</button>
            {% endif %}
            </form>
        </div>
    </div>
    <hr>
    <div class="row text-center" style="padding-top:10px; padding-left:50px;">
        <div class="col-4">
            <h4>Description</h4><br>
            <p> {{event.desc}}</p>
        </div>
        <div class="col-2">
            <h5>Team Size</h5><br>
            <p> {{event.team_size}}</p>
        </div>
        <div class="col-2">
            <h5>No of Teams</h5><br>
            <p> {{event.teams_filled}}/{{event.team_no}}</p>
        </div>
        <div class="col-2">
            <h5>Starting Date</h5><br>
            <p> {{event.start}}</p>
        </div>
        <div class="col-2">
            <h5>Code</h5><br>
            <p> {{event.code}}</p>
        </div>
    </div>
    <div class="row" style="padding-top:40px; padding-left:50px;">
        <table class="table table-hover bg-light">
            <thead>
                <tr>
                <th scope="col">Team Name</th>
                <th scope="col">Score</th>
                <th scope="col">Team Members</th>
                <th scope="col">Team Creator</th>
                </tr>
            </thead>
            <tbody>
                {% if teams %}
                    {% for team in teams %}
                        <tr>
                        <td>team name</td>
                        <td>score</td>
                        <td><button class="btn btn-outline-dark" type="button" onclick="showMembers()" style="font-size:10px;">Click to see members</button></td>
                        <td>creator</td>
                        </tr>
                    {% endfor %}
                {% endif %}
                {% if not teams %}
                <tr>
                    <td class="text-center" colspan="12" style="font-size:25px;">No teams registered yet.</td>
                </tr>
                {% endif %}
            </tbody>
        </table>
    </div>
</div>

<script>
    function showMembers(){
        //get team members with template
        //insert the members into alert using for loop
        alert("");
    }
</script>

{% endblock %}